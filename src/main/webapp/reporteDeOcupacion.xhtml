<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" xmlns:jsf="http://xmlns.jcp.org/jsf">

<ui:composition template="/WEB-INF/include/templateAdmin.xhtml">
    <ui:define name="head">
        <h:outputStylesheet name="css/bootstrap-tagsinput.css"/>
        <h:outputStylesheet name="css/initiative.css"/>
        <h:outputStylesheet name="dataTable/css/dataTables.bootstrap.min.css"/>
        <script type="text/javascript">
            function conf2() {
                var con = confirm("Do you want to submit for sure?");
                var url = "faces/reporteDeOcupacion.xhtml";
                window.location(url);
            }
        </script>
    </ui:define>
    <ui:define name="content">
        <h:form id="recurso_form">
            <br/>
            <h1>Dashborard:</h1>

            <br/>


            <div class="col-xs-12">
                <h2>Recursos más usados:</h2>
                <br/>
                <div class="col-xs-6"><p:chart type="bar" model="#{recursosMasUsados.grafico}"/></div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table id="recursosMasUsados" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Recurso</th>
                            <th>Cantidad de reservas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarRecursosMasUsados()}">

                            <tr>

                                <td>#{reserva.titulo}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>

            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Recursos menos usados:</h2>
                <br/>
                <div class="col-xs-6"><p:chart type="bar" model="#{recursosMenosUsados.grafico}"/></div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table id="recursosMenosUsados" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Recurso</th>
                            <th>Cantidad de reservas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarRecursosMenosUsados()}">

                            <tr>

                                <td>#{reserva.titulo}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Cantidad de reservas por carrera:</h2>
                <br/>
                <div class="col-xs-6"><p:chart type="bar" model="#{reservasPorCarrera.grafico}"/></div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table id="reservasPorCarrera" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Carrera</th>
                            <th>Cantidad de reservas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarReservasPorCarrera()}">

                            <tr>

                                <td>#{reserva.carrera}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Usuarios que realizan más reservas:</h2>
                <br/>
                <div class="col-xs-6"><p:chart type="bar" model="#{reservasPorUsuario.grafico}"/></div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table id="reservasPorUsuario" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Nombre del usuario</th>
                            <th>Cantidad de reservas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarReservasPorUsuario()}">

                            <tr>

                                <td>#{reserva.titulo}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Horarios de recursos con mayor ocupación:</h2>
                <br></br>
                <div class="col-xs-11">
                    <table id="horariosMayorOcupacion" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Horario inicio</th>
                            <th>Horario fin</th>
                            <th>Cantidad de reservas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarHorariosMayorOcupacion()}">

                            <tr>

                                <td>#{reserva.dataInicio}</td>
                                <td>#{reserva.dataFim}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Horarios de recursos con menor ocupación:</h2>
                <br></br>
                <div class="col-xs-11">
                    <table id="horariosMenorOcupacion" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Horario inicio</th>
                            <th>Horario fin</th>
                            <th>Cantidad de reservas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarHorariosMenorOcupacion()}">

                            <tr>

                                <td>#{reserva.dataInicio}</td>
                                <td>#{reserva.dataFim}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Reservas recurrentes:</h2>
                <br/>
                <div class="col-xs-6"><p:chart type="bar" model="#{reservasRecurrentes.grafico}"/></div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table id="reservasRecurrentes" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Recurso</th>
                            <th>N° de reservas recurrentes</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarReservasRecurrentes()}">

                            <tr>

                                <td>#{reserva.titulo}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>


            <div class="col-xs-12">
                <br/><br/><br/>
                <h2>Reservas canceladas:</h2>
                <br/>
                <div class="col-xs-6"><p:chart type="bar" model="#{reservasCanceladas.grafico}"/></div>
                <div class="col-xs-1"></div>
                <div class="col-xs-5">
                    <table id="reservasCanceladas" class="display table table-bordered table-striped">

                        <thead>
                        <tr>
                            <th>Recurso</th>
                            <th>N° de reservas canceladas</th>


                        </tr>
                        </thead>
                        <tbody>
                        <ui:repeat var="reserva" value="#{reporteBean.consultarReservasCanceladas()}">

                            <tr>

                                <td>#{reserva.titulo}</td>
                                <td>#{reserva.cantidad}</td>

                            </tr>
                        </ui:repeat>
                        </tbody>

                    </table>
                </div>
            </div>

            <!--                <div class="col-xs-12">-->
            <!--                    <br/><br/><br/>-->
            <!--                    <h2>Recursos más usados por programa:</h2>-->
            <!--                    <br/>-->
            <!--                    <div class="row">-->
            <!--                        <div class="col-xs-6">-->
            <!--                            <label class="bmd-label-floating">Carreras:</label>-->
            <!--                            <h:selectOneMenu value="{reporteBean.tipoDecarreraSeleccionado}" class="form-control">-->
            <!--                                <f:selectItems value="{reporteBean.getCarreras()}"/>-->
            <!--                            </h:selectOneMenu>-->
            <!--                        </div>-->
            <!--                    </div>-->
            <!--                    <br/>-->
            <!--                    <p:commandButton class="btn pull-left" value="Buscar" onclick="conf2()">-->
            <!--                        <f:actionListener-->
            <!--                            binding="#{recursosMasUsadosPorPrograma.setCarrera(reporteBean.getTipoDecarreraSeleccionado())}"-->
            <!--                            update="recurso_form" />-->
            <!--                    </p:commandButton>-->

            <!--                </div>-->
            <!--                -->
            <!--                <div class="col-xs-12">-->
            <!--                    <br/><br/><br/>-->
            <!--                    <div class="col-xs-6"><p:chart type="bar" model="{reservasCanceladas.grafico}"/></div>-->
            <!--                    <div class="col-xs-1"></div>-->
            <!--                    <div class="col-xs-5">-->
            <!--                        <table id="reservasCanceladas" class="display table table-bordered table-striped">-->

            <!--                            <thead>-->
            <!--                                <tr>-->
            <!--                                    <th>Recurso</th>-->
            <!--                                    <th>N° de reservas por programa</th>-->


            <!--                                </tr>-->
            <!--                            </thead>-->
            <!--                            <tbody>-->
            <!--                                <ui:repeat var="reserva" value="{reporteBean.consultarRecursosMasUsadosPorCarrera()}">-->

            <!--                                    <tr>-->

            <!--                                        <td>#{reserva.titulo}</td>-->
            <!--                                        <td>#{reserva.cantidad}</td>-->

            <!--                                    </tr>-->
            <!--                                </ui:repeat>-->
            <!--                            </tbody>-->

            <!--                        </table>-->
            <!--                    </div>-->
            <!--                </div>-->


        </h:form>

    </ui:define>
</ui:composition>

</html>